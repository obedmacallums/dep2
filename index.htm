<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sin Título 2</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" id="metaViewport" content="user-scalable=no, initial-scale=1, width=device-width, viewport-fit=cover" data-tdv-general-scale="0.5"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <script src="lib/tdvplayer.js?v=1764374929692"></script>
    <link rel="preload" href="locale/en.txt?v=1764374929692" as="fetch" crossorigin="anonymous"/>
	<link rel="preload" href="script.js?v=1764374929692" as="script"/>
	<link rel="preload" href="media/panorama_DDC47F07_CCA5_2905_41E8_7C4029808DA4_0/r/3/0_0.webp?v=1764374929692" as="image"/>
	<link rel="preload" href="media/panorama_DDC47F07_CCA5_2905_41E8_7C4029808DA4_0/l/3/0_0.webp?v=1764374929692" as="image"/>
	<link rel="preload" href="media/panorama_DDC47F07_CCA5_2905_41E8_7C4029808DA4_0/u/3/0_0.webp?v=1764374929692" as="image"/>
	<link rel="preload" href="media/panorama_DDC47F07_CCA5_2905_41E8_7C4029808DA4_0/d/3/0_0.webp?v=1764374929692" as="image"/>
	<link rel="preload" href="media/panorama_DDC47F07_CCA5_2905_41E8_7C4029808DA4_0/f/3/0_0.webp?v=1764374929692" as="image"/>
	<link rel="preload" href="media/panorama_DDC47F07_CCA5_2905_41E8_7C4029808DA4_0/b/3/0_0.webp?v=1764374929692" as="image"/>
	<meta name="description" content="Virtual Tour"/>
	<meta name="theme-color" content="#000000"/>
    <script src="script.js?v=1764374929692"></script>
    <style type="text/css">
        html, body { height:100%; width:100%; height:100vh; width:100vw; margin:0; padding:0; overflow:hidden; }
        .fill-viewport { position:fixed; top:0; left:0; right:0; bottom:0; padding:0; margin:0; overflow: hidden; }
        .fill-viewport.landscape-left { left: env(safe-area-inset-left); }
		.fill-viewport.landscape-right { right: env(safe-area-inset-right); }
        #viewer { z-index:1; }
        #preloadContainer { z-index:2; opacity:0; background-color:rgba(0,0,0,1); transition: opacity 0.5s; -webkit-transition: opacity 0.5s; -moz-transition: opacity 0.5s; -o-transition: opacity 0.5s;}

        /* Ocultar la versión del player en el menú contextual */
        [id*="3dvista"] { display: none !important; }
        [class*="player-version"] { display: none !important; }
        [class*="version"] { display: none !important; }
    </style>

</head>
<body oncontextmenu="return false;">
    <div id="preloadContainer" class="fill-viewport"><div style="z-index: 4; position: absolute; overflow: hidden; left: 0%; top: 50%; width: 100.00%; height: 10.00%" ><div style="text-align:left; color:#000; "><DIV STYLE="text-align:center;font-size:1.6666666666666663vmin;"><SPAN STYLE="display:inline-block; letter-spacing:0vmin; white-space:pre-wrap;color:#777777;font-size:1.67vmin;font-family:Arial, Helvetica, sans-serif;">Cargando tour 360...</SPAN></DIV></div></div></div>
    <div id="viewer" class="fill-viewport"></div>

    <script type="text/javascript">
        // Bloqueo efectivo del menú contextual con MutationObserver
        (function() {
            'use strict';

            var blockContextMenu = function(e) {
                e.preventDefault();
                e.stopImmediatePropagation();
                return false;
            };

            var listenerApplied = false;

            // Función para ocultar elementos del menú contextual que contengan "3DVista" o "Player v"
            var hidePlayerVersion = function() {
                // Buscar todos los elementos que puedan contener el texto de la versión
                var allElements = document.querySelectorAll('*');
                for (var i = 0; i < allElements.length; i++) {
                    var elem = allElements[i];
                    var text = elem.textContent || elem.innerText || '';

                    // Si contiene "3DVista" o "Player v" o "2224", ocultarlo
                    if (text.includes('3DVista') || text.includes('Player v') ||
                        (text.includes('2224') && text.includes('Player'))) {
                        elem.style.display = 'none';

                        // También intentar ocultar el elemento padre si es solo ese texto
                        if (elem.parentElement && elem.parentElement.textContent.trim() === text.trim()) {
                            elem.parentElement.style.display = 'none';
                        }
                    }
                }
            };

            var applyBlockers = function() {
                // Agregar múltiples listeners con captura para redundancia
                if (!listenerApplied) {
                    // Listener principal con captura para interceptar primero
                    document.addEventListener('contextmenu', blockContextMenu, true);

                    // Listener adicional sin captura como backup
                    document.addEventListener('contextmenu', blockContextMenu, false);

                    // Listener para ocultar la versión cuando se muestra el menú contextual
                    document.addEventListener('contextmenu', function() {
                        setTimeout(hidePlayerVersion, 10);
                    }, true);

                    listenerApplied = true;
                }

                // Aplicar al documento y body
                document.oncontextmenu = blockContextMenu;
                if (document.body) {
                    document.body.oncontextmenu = blockContextMenu;
                }

                // Aplicar al viewer que es donde está el contenido principal
                var viewer = document.getElementById('viewer');
                if (viewer) {
                    viewer.oncontextmenu = blockContextMenu;
                }
            };

            // Aplicar inmediatamente
            applyBlockers();

            // Aplicar cuando el DOM esté listo
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', applyBlockers);
            }

            // MutationObserver: observa cambios en el DOM y reaplica solo cuando hay cambios
            // Esto es MUCHO más eficiente que setInterval
            var observer = new MutationObserver(function(mutations) {
                // Solo reaplicar a document y body, no recorrer todo el DOM
                document.oncontextmenu = blockContextMenu;
                if (document.body) {
                    document.body.oncontextmenu = blockContextMenu;
                }
                var viewer = document.getElementById('viewer');
                if (viewer) {
                    viewer.oncontextmenu = blockContextMenu;
                }

                // Ocultar la versión del player si aparece
                hidePlayerVersion();
            });

            // Iniciar observación cuando el body esté listo
            var startObserver = function() {
                if (document.body) {
                    observer.observe(document.body, {
                        childList: true,
                        subtree: true
                    });
                }
            };

            // Aplicar bloqueadores en varios momentos clave
            setTimeout(applyBlockers, 100);
            setTimeout(applyBlockers, 500);
            setTimeout(function() {
                applyBlockers();
                startObserver();
            }, 1500);
        })();
    </script>
</body>
</html>